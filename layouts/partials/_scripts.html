<script src="/_assets/js/{{ index .Site.Data.js.hash "main.js" }}"></script>


<script>
  function ValidateEmail(inputText)
  {
    var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
    if(inputText.match(mailformat))
    {
      return true;
    }
    else
    {
      return false;
    }
  }

  $('#educationSignup').ajaxChimp({
      url: 'https://bigclown.us13.list-manage.com/subscribe/post?u=eed5aaeac748fe3d34010119b&id=06327f7c16',
      callback: mailchimpSentEducation1
  });

  function mailchimpSentEducation1 (resp) {
    if (resp.result === 'success') {
        ga('send', 'event', 'Education', 'signup', 'step1');
    }
    else{
      console.log(resp);
    }
  }

  $("#educationSubmit_first").click(function(e){
    var value = $("#mc-email.education__input").val()

    if(ValidateEmail(value)){
      $("#mc-email.educationForm__input").val(value);
      $('.modal-education').modal({
        keyboard: false
      })
    }
    else if(value.length === 0){
      e.preventDefault();
      $(".education__input").addClass("education__input--error");
      $(".education__validation").text("Please tell us your e-mail address");
    }
    else{
      e.preventDefault();
      $(".education__input").addClass("education__input--error");
      $(".education__validation").text("Please use correct format of e-mail, ex.: cooper@bigclown.com");
    }
  });
</script>

<script>
  $('#educationSignupStep2').ajaxChimp({
      url: 'https://bigclown.us13.list-manage.com/subscribe/post?u=eed5aaeac748fe3d34010119b&id=582b5b76f2',
      callback: mailchimpSentEducation2
  });
  function mailchimpSentEducation2 (resp) {
    if (resp.result === 'success') {
      $(".educationForm__input" ).val("");
      $(".education__input" ).val("");
      ga('send', 'event', 'Education', 'signup', 'step2');
    }
  }

  $("#educationSubmit").click(function(e){

    if($("#mc-email").val().length < 2){
      e.preventDefault();
      $("#label-mc-email").text("Please tell us your e-mail address");
      $("#label-mc-email").addClass("educationForm__label--errorMessage");
      $("#mc-email").addClass("educationForm__input--error");
    }

    if($("#mc-name").val().length < 2){
      e.preventDefault();
      $("#label-mc-name").text("Please tell us your name");
      $("#label-mc-name").addClass("educationForm__label--errorMessage");
      $("#mc-name").addClass("educationForm__input--error");
    }
    if($("#mc-company").val().length < 2){
      e.preventDefault();
      $("#label-mc-company").text("Please tell us name of school, company or institution");
      $("#label-mc-company").addClass("educationForm__label--errorMessage");
      $("#mc-company").addClass("educationForm__input--error");
    }

    if($("#mc-city").val().length < 2){
      e.preventDefault();
      $("#label-mc-city").text("Please tell us city and country where you work");
      $("#label-mc-city").addClass("educationForm__label--errorMessage");
      $("#mc-city").addClass("educationForm__input--error");
    }

    if($("#mc-post").val().length < 2){
      e.preventDefault();
      $("#label-mc-post").text("Please tell us your position at school");
      $("#label-mc-post").addClass("educationForm__label--errorMessage");
      $("#mc-post").addClass("educationForm__input--error");
    }
  });
</script>
